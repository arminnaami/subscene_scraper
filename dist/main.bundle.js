module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 6);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("module.exports = {\"BASE_URI\":\"https://subscene.com/\",\"titleTypes\":[\"Exact\",\"Close\",\"Popular\",\"TV-Series\"],\"languageMap\":{\"arabic\":\"2\",\"brazillianportuguese\":\"4\",\"danish\":\"10\",\"dutch\":\"11\",\"english\":\"13\",\"farsi/persian\":\"46\",\"finnish\":\"17\",\"french\":\"18\",\"hebrew\":\"22\",\"indonesian\":\"44\",\"italian\":\"26\",\"norwegian\":\"30\",\"romanian\":\"33\",\"spanish\":\"38\",\"swedish\":\"39\",\"vietnamese\":\"45\",\"albanian\":\"1\",\"armenian\":\"73\",\"azerbaijani\":\"55\",\"basque\":\"74\",\"belarusian\":\"68\",\"bengali\":\"54\",\"big5 code\":\"3\",\"bosnian\":\"60\",\"bulgarian\":\"5\",\"bulgarian/english\":\"6\",\"burmese\":\"61\",\"catalan\":\"49\",\"chinesebg code\":\"7\",\"croatian\":\"8\",\"czech\":\"9\",\"dutch/english\":\"12\",\"english/german\":\"15\",\"esperanto\":\"47\",\"estonian\":\"16\",\"georgian\":\"62\",\"german\":\"19\",\"greek\":\"21\",\"greenlandic\":\"57\",\"hindi\":\"51\",\"hungarian\":\"23\",\"hungarian/english\":\"24\",\"icelandic\":\"25\",\"japanese\":\"27\",\"korean\":\"28\",\"kurdish\":\"52\",\"latvian\":\"29\",\"lithuanian\":\"43\",\"macedonian\":\"48\",\"malay\":\"50\",\"malayalam\":\"64\",\"manipuri\":\"65\",\"mongolian\":\"72\",\"pashto\":\"67\",\"polish\":\"31\",\"portuguese\":\"32\",\"punjabi\":\"66\",\"russian\":\"34\",\"serbian\":\"35\",\"sinhala\":\"58\",\"slovak\":\"36\",\"slovenian\":\"37\",\"somali\":\"70\",\"tagalog\":\"53\",\"tamil\":\"59\",\"telugu\":\"63\",\"thai\":\"40\",\"turkish\":\"41\",\"urdu\":\"42\",\"ukrainian\":\"56\"},\"baseHttpOptions\":{\"followRedirect\":false,\"method\":\"GET\",\"url\":\"\",\"body\":\"\",\"encoding\":\"utf-8\",\"gzip\":true,\"headers\":{\"User-Agent\":\"Mozilla/5.0\",\"Cookie\":\"LanguageFilter=\"}}}\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/options.json\n// module id = 0\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/options.json?");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = require(\"cheerio\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cheerio\"\n// module id = 1\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22cheerio%22?");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _lang = __webpack_require__(19);\n\nvar _lang2 = _interopRequireDefault(_lang);\n\nvar _options = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @description responsible of generating request options.\n * @param {string} URL - HTTP URL.\n * @param {string} lang - Subtitle language.\n * @param {string} method - HTTP METHOD (GET/HEAD/POST/PUT).\n * @param {string} body - HTTP request body.\n * @param {boolean} followRedirect - to follow redirects or not (true/false)\n   @return {Promise.<Object>}\n */\nfunction genHttpOptions() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'english';\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n  var body = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var followRedirect = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n\n  var settings = _extends({}, _options.baseHttpOptions, {\n    headers: _extends({}, _options.baseHttpOptions.headers),\n    url,\n    method,\n    body\n  });\n  settings.headers.Cookie += (0, _lang2.default)(lang);\n  console.log(lang, (0, _lang2.default)(lang));\n  return settings;\n}\n\nexports.default = genHttpOptions;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/http_options.js\n// module id = 2\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/http_options.js?");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/** @description wrapper around a promisifed request function that retries.\n * @param {Object} options - request optipons.\n   @return {Respones}\n*/\nvar req = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(options) {\n    var response, i;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(1000);\n            _context.next = 3;\n            return reqP(options);\n\n          case 3:\n            response = _context.sent;\n            i = 0;\n\n          case 5:\n            if (!(response.statusCode === blockCode && i < retry)) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 8;\n            return sleep(sleeptime);\n\n          case 8:\n            _context.next = 10;\n            return reqP(options);\n\n          case 10:\n            response = _context.sent;\n\n            i += 1;\n            _context.next = 5;\n            break;\n\n          case 14:\n            if (!(response.statusCode === blockCode)) {\n              _context.next = 16;\n              break;\n            }\n\n            return _context.abrupt('return', Promise.reject(new Error('script got blocked 409 resCode')));\n\n          case 16:\n            return _context.abrupt('return', response);\n\n          case 17:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function req(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _util = __webpack_require__(11);\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n__webpack_require__(12).shim();\n\nvar reqP = _util2.default.promisify(_request2.default);\nvar retry = 3;\nvar blockCode = 409;\nvar sleeptime = 800;\n\n/** @description sleep//setTimeout.\n * @param {string} seconds - number of seconds to sleep.\n   @return {Respones}\n*/\nfunction sleep(seconds) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      resolve(seconds);\n    }, seconds);\n  });\n}exports.default = req;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/req.js\n// module id = 3\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/req.js?");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getExactTitleList = exports.getExactTitlePassive = exports.getTitleSubtitles = undefined;\n\n/** @description responsible of choosing first title movie! when in passive\n     mode.\n  * @param {string} movieList - pack\n    @return {string}\n  */\n/** @description responsible of handling movie subtitles of type title.\n  * @param {string} data - pack\n  * @param {string} passive - pack\n    @return {Promise.<Array>}\n  */\nvar getExactTitleList = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(data) {\n    var _ref2, movieList;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getTitles(data);\n\n          case 2:\n            _ref2 = _context.sent;\n            movieList = _ref2.movies;\n            return _context.abrupt('return', movieList);\n\n          case 5:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function getExactTitleList(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/** @description responsible of handling movie subtitles of type title.\n * @param {string} data - pack\n * @param {string} passive - pack\n   @return {Promise.<Array>}\n */\n\n\nvar getExactTitlePassive = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(data) {\n    var _ref4, movieList, language, result;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getTitles(data);\n\n          case 2:\n            _ref4 = _context2.sent;\n            movieList = _ref4.movies;\n            language = _ref4.lang;\n            result = chooseTitleMoviePassive(movieList);\n            _context2.next = 8;\n            return getTitleSubLink({ lang: language, result: result });\n\n          case 8:\n            return _context2.abrupt('return', _context2.sent);\n\n          case 9:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function getExactTitlePassive(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/** @description responsible of handling movie subtitles of type title.\n * @param {string} data - pack\n   @return {Array}\n */\n\n\nvar getTitleSubtitles = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(data) {\n    var url, lang, op, response, $, subtitles, lastLink;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            url = data.url;\n            lang = data.lang;\n            op = (0, _http_options2.default)(url, lang, 'GET');\n            _context3.next = 5;\n            return (0, _req2.default)(op);\n\n          case 5:\n            response = _context3.sent;\n            $ = _cheerio2.default.load(response.body);\n            subtitles = [];\n            lastLink = $('table').eq(0).children('tbody').children('tr').children('td.a1');\n\n            lastLink.map(function (index, val) {\n              var releaseUrl = $(val).children('a').attr('href');\n              var releaseName = $(val).children('a').children('span').eq(1).text().trim();\n              subtitles.push({\n                url: _options.BASE_URI + releaseUrl,\n                name: releaseName\n              });\n            });\n            return _context3.abrupt('return', subtitles);\n\n          case 11:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function getTitleSubtitles(_x3) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/** @description responsible of handling movie subtitles of type title.\n * @param {string} data - pack\n   @return {Promise.<Array>}\n */\n\n\nvar getTitles = function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(data) {\n    var language, $, movieTitleList;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            //  Exact>close>popular>tv-series\n            language = data.lang;\n            $ = _cheerio2.default.load(data.body);\n            movieTitleList = {};\n\n            $('div .search-result').children('h2').map(function (n, element) {\n              var header = $(element).text();\n              movieTitleList[header] = [];\n              $(element).next().children('li').map(function (n, value) {\n                $(value).children('div .title').children('a').map(function (n, Movie) {\n                  var val = {\n                    name: $(Movie).text(),\n                    link: _options.BASE_URI + $(Movie).attr('href')\n                  };\n\n                  movieTitleList[header].push(val);\n                });\n              });\n            });\n\n            return _context4.abrupt('return', { movies: movieTitleList, lang: language });\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function getTitles(_x4) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar _cheerio = __webpack_require__(1);\n\nvar _cheerio2 = _interopRequireDefault(_cheerio);\n\nvar _http_options = __webpack_require__(2);\n\nvar _http_options2 = _interopRequireDefault(_http_options);\n\nvar _req = __webpack_require__(3);\n\nvar _req2 = _interopRequireDefault(_req);\n\nvar _options = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar TitleOptions = ['Exact', 'Close', 'Popular', 'TV-Series'];\n\n/** @description responsible of choosing first title movie! when in passive\n    mode.\n * @param {string} movieList - pack\n   @return {string}\n */\nfunction chooseTitleMoviePassive(movieList) {\n  var i = 0;\n  for (var movieType in movieList) {\n    if (TitleOptions[i] === movieType) {\n      return _options.BASE_URI + movieList[movieType][0].link;\n    }\n    i += 1;\n  }\n};\n\nexports.getTitleSubtitles = getTitleSubtitles;\nexports.getExactTitlePassive = getExactTitlePassive;\nexports.getExactTitleList = getExactTitleList;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handle_title.js\n// module id = 4\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/handle_title.js?");

/***/ }),
/* 5 */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 5\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22path%22?");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(7);\nmodule.exports = __webpack_require__(8);\n\n\n//////////////////\n// WEBPACK FOOTER\n// multi babel-polyfill ./src/main.js\n// module id = 6\n// module chunks = 0\n\n//# sourceURL=webpack:///multi_babel-polyfill_./src/main.js?");

/***/ }),
/* 7 */
/***/ (function(module, exports) {

eval("module.exports = require(\"babel-polyfill\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 7\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22babel-polyfill%22?");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.passiveDownloader = exports.interactiveDownloader = undefined;\n\n/**\n * @typedef MovieTypeData\n * @property {string} type type of movie (title/release).\n * @property {string} lang language needed for the movie subtitle.\n * @property {string} body html response of search request.\n */\n/** @description Detirmines movies type (title/release).\n * @param {string} filename - the name of the movie.\n * @param {string} lang - the language desired\n   @return {Promise.<MovieTypeData>}\n */\nvar determineMovieNameType = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(filename, lang) {\n    var langCode, url, reqOptions, response, type;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            langCode = (0, _lang2.default)(lang);\n\n            if (langCode) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt('return', Promise.reject(new Error('language not supported!')));\n\n          case 3:\n            url = _options.BASE_URI + '/subtitles/title?q=' + encodeURIComponent(filename);\n            reqOptions = (0, _http_options2.default)(url, lang, 'GET', '', true);\n            _context.next = 7;\n            return (0, _req2.default)(reqOptions);\n\n          case 7:\n            response = _context.sent;\n            type = response.request._redirect.redirects.length === 0 ? 'title' : 'release';\n            return _context.abrupt('return', { '_name': filename, 'type': type, 'lang': langCode, 'body': response.body });\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function determineMovieNameType(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/** @description extract subtitle's download link.\n * @param {string} URL - the name of the movie.\n   @return {Promise.<string>}\n */\nvar getSubtitleDownloadLink = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(URL, lang) {\n    var url, response, $, downloadLink;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // until we apply this to handleTitle\n            // it will always be an array.\n            url = Array.isArray(URL) ? URL[0] : URL;\n            _context2.next = 3;\n            return (0, _req2.default)((0, _http_options2.default)(url, lang, 'GET'));\n\n          case 3:\n            response = _context2.sent;\n            $ = _cheerio2.default.load(response.body);\n            downloadLink = _options.BASE_URI + $('.download a').attr('href');\n            return _context2.abrupt('return', downloadLink);\n\n          case 7:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function getSubtitleDownloadLink(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/** @description main function.\n * @param {string} movieName - the name of the movie.\n * @param {string} language - the name of the movie.\n * @param {string} path - the name of the movie.\n   @return {Promise.<string>}\n */\n\n\nvar getMovieSubtitleDetails = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(movieName, language) {\n    var movieInfo, result;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return determineMovieNameType(movieName, language);\n\n          case 2:\n            movieInfo = _context3.sent;\n            _context3.next = 5;\n            return (0, _handle_type2.default)(movieInfo);\n\n          case 5:\n            result = _context3.sent;\n            return _context3.abrupt('return', { type: movieInfo.type, result: result });\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function getMovieSubtitleDetails(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/** @description download's and save's subtitle of releaseURL.\n* @param {string} releaseURL - url of release.\n* @param {string} location - location to save.\n  @return {Object}\n*/\n\n\nvar downloadSubtitleFiles = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(releaseURL, location, lang) {\n    var downloadLink, subtitleFile, subtitlePackage;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return getSubtitleDownloadLink(releaseURL, lang);\n\n          case 2:\n            downloadLink = _context4.sent;\n            _context4.next = 5;\n            return (0, _download_subtitle2.default)(downloadLink);\n\n          case 5:\n            subtitleFile = _context4.sent;\n            _context4.next = 8;\n            return (0, _unzip_sub_buffer2.default)(subtitleFile);\n\n          case 8:\n            subtitlePackage = _context4.sent;\n            return _context4.abrupt('return', subtitlePackage);\n\n          case 10:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function downloadSubtitleFiles(_x7, _x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n/** @description simple async emitter....\n* @param {string} emitter - the name of the movie.\n* @param {string} e - event.\n  @return {Object}\n*/\n\n\n/** @description download's subtitle passivly, choose's first subtitle found.\n* @param {string} movieName - the name of the movie.\n* @param {string} lang - the name of the movie.\n* @param {string} path - the name of the movie.\n  @return {Promise.<string>}\n*/\nvar passiveDownloader = function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(movieName, lang, path) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var language,\n        movieInfo,\n        url,\n        movieURL,\n        list,\n        result,\n        _args6 = arguments;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            language = lang || 'english';\n            _context6.next = 3;\n            return getMovieSubtitleDetails(movieName, language);\n\n          case 3:\n            movieInfo = _context6.sent;\n            url = void 0;\n\n            if (!(movieInfo.type === 'title')) {\n              _context6.next = 13;\n              break;\n            }\n\n            movieURL = chooseTitleMoviePassive(movieInfo.result); // 1\n\n            _context6.next = 9;\n            return (0, _handle_title.getTitleSubtitles)({ url: movieURL, lang: language });\n\n          case 9:\n            list = _context6.sent;\n\n            url = list[0].url; // 2\n            _context6.next = 14;\n            break;\n\n          case 13:\n            //passiveDownloader always picks the first result.\n            //use the interactiveDownloader if you have a special uescase.\n            url = movieInfo.result[0].url;\n\n          case 14:\n            _context6.next = 16;\n            return downloadSubtitleFiles(url, path, lang);\n\n          case 16:\n            result = _context6.sent;\n\n            if (!(_args6.length === 3)) {\n              _context6.next = 21;\n              break;\n            }\n\n            _context6.next = 20;\n            return (0, _save_subtitle2.default)(path || '.', result);\n\n          case 20:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 21:\n            return _context6.abrupt('return', result);\n\n          case 22:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function passiveDownloader(_x11, _x12, _x13) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n///////////////////////////////////////////////////////////////////////////////\n////////// end of exported methods section /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nvar _cheerio = __webpack_require__(1);\n\nvar _cheerio2 = _interopRequireDefault(_cheerio);\n\nvar _http_options = __webpack_require__(2);\n\nvar _http_options2 = _interopRequireDefault(_http_options);\n\nvar _handle_type = __webpack_require__(9);\n\nvar _handle_type2 = _interopRequireDefault(_handle_type);\n\nvar _download_subtitle = __webpack_require__(14);\n\nvar _download_subtitle2 = _interopRequireDefault(_download_subtitle);\n\nvar _unzip_sub_buffer = __webpack_require__(15);\n\nvar _unzip_sub_buffer2 = _interopRequireDefault(_unzip_sub_buffer);\n\nvar _save_subtitle = __webpack_require__(17);\n\nvar _save_subtitle2 = _interopRequireDefault(_save_subtitle);\n\nvar _lang = __webpack_require__(19);\n\nvar _lang2 = _interopRequireDefault(_lang);\n\nvar _req = __webpack_require__(3);\n\nvar _req2 = _interopRequireDefault(_req);\n\nvar _handle_title = __webpack_require__(4);\n\nvar _events = __webpack_require__(20);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _options = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar TitleOptions = Object.freeze(['Exact', 'Close', 'Popular', 'TV-Series']);;\n\n/** @description return's the first title in the available options\n  [exact,close,popular,tv-series].\n * @param {string} movieList - the name of the movie.\n   @return {String}\n */\nfunction chooseTitleMoviePassive(movieList) {\n  var i = 0;\n  for (var movieType in movieList) {\n    if (TitleOptions[i] === movieType) {\n      return movieList[movieType][0].link;\n    }\n    i += 1;\n  }\n}function asyncemit(emitter, e) {\n  for (var _len = arguments.length, params = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    params[_key - 2] = arguments[_key];\n  }\n\n  return new Promise(function (resolve) {\n    emitter.emit.apply(emitter, [e].concat(params, [function (c) {\n      resolve(c);\n    }]));\n  });\n}\n\n///////////////////////////////////////////////////////////////////////////////\n////////// section: exported methods ///////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\n/** @description download's subtitle passivly, choose's first subtitle found.\n* @param {string} movieName - the name of the movie.\n* @param {string} lang - the name of the movie.\n* @param {string} path - the name of the movie.\n  @return {Object}\n*/\nfunction interactiveDownloader(movieName, lang, path) {\n  var _arguments = arguments,\n      _this = this;\n\n  var emitter = new _events2.default();\n  process.nextTick(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var language, movieInfo, url, titleURL, list, unPackedSubtitles;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            language = lang || 'english';\n            _context5.next = 3;\n            return getMovieSubtitleDetails(movieName, language);\n\n          case 3:\n            movieInfo = _context5.sent;\n            url = void 0;\n\n            if (!(movieInfo.type === 'title')) {\n              _context5.next = 17;\n              break;\n            }\n\n            _context5.next = 8;\n            return asyncemit(emitter, 'info', movieInfo);\n\n          case 8:\n            titleURL = _context5.sent;\n            _context5.next = 11;\n            return (0, _handle_title.getTitleSubtitles)({ url: titleURL, lang: language });\n\n          case 11:\n            list = _context5.sent;\n            _context5.next = 14;\n            return asyncemit(emitter, 'title', list);\n\n          case 14:\n            url = _context5.sent;\n            _context5.next = 20;\n            break;\n\n          case 17:\n            _context5.next = 19;\n            return asyncemit(emitter, 'info', movieInfo);\n\n          case 19:\n            url = _context5.sent;\n\n          case 20:\n            _context5.next = 22;\n            return downloadSubtitleFiles(url, path, lang);\n\n          case 22:\n            unPackedSubtitles = _context5.sent;\n\n            if (!(_arguments.length === 3)) {\n              _context5.next = 30;\n              break;\n            }\n\n            _context5.next = 26;\n            return (0, _save_subtitle2.default)(path || '.', unPackedSubtitles);\n\n          case 26:\n            result = _context5.sent;\n\n            emitter.emit('done', result, movieName);\n            _context5.next = 31;\n            break;\n\n          case 30:\n            emitter.emit('done', unPackedSubtitles, movieName);\n\n          case 31:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, _this);\n  })));\n  return emitter;\n}exports.interactiveDownloader = interactiveDownloader;\nexports.passiveDownloader = passiveDownloader;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.js\n// module id = 8\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/main.js?");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @typedef MovieTypeData\n * @property {string} type type of movie (title/release).\n * @property {string} lang language needed for the movie subtitle.\n * @property {string} body html response of search request.\n */\n/** @description handle's movies type (title/release).\n * @param {MovieTypeData} data\n  * @param {MovieTypeData} isPassive\n   @return {handleRelease|handleTitle}\n */\nvar handleType = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(data, isPassive) {\n    var handleTitle, handler;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            handleTitle = isPassive ? _handle_title.getExactTitlePassive : _handle_title.getExactTitleList;\n            handler = data.type === 'release' ? _handle_release2.default : handleTitle;\n            return _context.abrupt('return', handler(data));\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function handleType(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar _handle_title = __webpack_require__(4);\n\nvar _handle_release = __webpack_require__(13);\n\nvar _handle_release2 = _interopRequireDefault(_handle_release);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = handleType;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handle_type.js\n// module id = 9\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/handle_type.js?");

/***/ }),
/* 10 */
/***/ (function(module, exports) {

eval("module.exports = require(\"request\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request\"\n// module id = 10\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22request%22?");

/***/ }),
/* 11 */
/***/ (function(module, exports) {

eval("module.exports = require(\"util\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 11\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22util%22?");

/***/ }),
/* 12 */
/***/ (function(module, exports) {

eval("module.exports = require(\"util.promisify\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util.promisify\"\n// module id = 12\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22util.promisify%22?");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cheerio = __webpack_require__(1);\n\nvar _cheerio2 = _interopRequireDefault(_cheerio);\n\nvar _options = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @description responsible of handling movie subtitles of type release.\n * @param {string} data - pack\n   @return {Promise.<Array>}\n */\nfunction handleRelease(data) {\n  var $ = _cheerio2.default.load(data.body);\n  var releaseTable = $('table tbody tr');\n  var releaseLinks = Array.prototype.slice.call(releaseTable.map(function (index, value) {\n    var path = $(value).children('.a1').children('a').eq(0).attr('href');\n    var name = $(value).children('.a1').children('a').eq(0).children('span').eq(1).text().trim();\n    return {\n      name: name,\n      url: _options.BASE_URI + path\n    };\n  }));\n  return releaseLinks;\n}\n\nexports.default = handleRelease;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handle_release.js\n// module id = 13\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/handle_release.js?");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/** @description responsible of downloading subtitle.\n * @param {string} downloadURL - download link\n   @return {Promise.<Package>}\n */\nvar downloadSubtitle = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadURL, lang) {\n    var op, response, name;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            op = (0, _http_options2.default)(downloadURL, lang, 'GET');\n\n            op.encoding = null;\n            _context.next = 4;\n            return (0, _req2.default)(op);\n\n          case 4:\n            response = _context.sent;\n            name = response.headers['content-disposition'].split(';')[1].split('=')[1];\n            return _context.abrupt('return', {\n              name,\n              buffer: response.body\n            });\n\n          case 7:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function downloadSubtitle(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar _req = __webpack_require__(3);\n\nvar _req2 = _interopRequireDefault(_req);\n\nvar _http_options = __webpack_require__(2);\n\nvar _http_options2 = _interopRequireDefault(_http_options);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = downloadSubtitle;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/download_subtitle.js\n// module id = 14\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/download_subtitle.js?");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _path = __webpack_require__(5);\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _admZip = __webpack_require__(16);\n\nvar _admZip2 = _interopRequireDefault(_admZip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** @description responsible of unpacking subtitles.\n * @param {string} data - pack\n   @return {Promise.<Array>}\n */\nfunction unzipSubtitleBuffer(subtitleFile) {\n  return new Promise(function (resolve, reject) {\n    var files = [];\n    // waiting for someone to implement an unrar library written in JS!\n    // PR when available! :P\n    if (_path2.default.extname(subtitleFile.name) == '.rar') {\n      files.push({ 'name': subtitleFile.name, 'buffer': subtitleFile.buffer });\n      resolve(files);\n    }\n\n    try {\n      var zip = new _admZip2.default(subtitleFile.buffer);\n      zip.getEntries().forEach(function (entry) {\n        var entryName = entry.entryName;\n        // decompressed buffer of the entry\n        var decompressedData = zip.readFile(entry);\n        files.push({ 'name': entryName, 'buffer': decompressedData });\n      });\n      resolve(files);\n    } catch (e) {\n      reject(new Error('Error while unzipping subtitle+\\n' + e));\n    }\n  });\n}\n\nexports.default = unzipSubtitleBuffer;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/unzip_sub_buffer.js\n// module id = 15\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/unzip_sub_buffer.js?");

/***/ }),
/* 16 */
/***/ (function(module, exports) {

eval("module.exports = require(\"adm-zip\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"adm-zip\"\n// module id = 16\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22adm-zip%22?");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _path = __webpack_require__(5);\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _fs = __webpack_require__(18);\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/** @description responsible of saving subtitle files to disk.\n * @param {string} savePath - location to save file.\n * @param {array} files - array of subtitle files.\n   @return {Promise.<log>}\n */\nfunction saveSubtitle(savePath, files) {\n    return new Promise(function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n            var log;\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            log = [];\n\n                            files.map(function (file, n) {\n                                var saveFile = _path2.default.join(savePath, file.name);\n                                _fs2.default.writeFile(saveFile, file.buffer, function (err) {\n                                    if (err) {\n                                        reject(err);\n                                    } else {\n                                        log.push(saveFile);\n                                    }\n                                    if (n == files.length - 1) {\n                                        resolve(log);\n                                    }\n                                });\n                            });\n\n                        case 2:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, this);\n        }));\n\n        return function (_x, _x2) {\n            return _ref.apply(this, arguments);\n        };\n    }());\n}\n\nexports.default = saveSubtitle;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/save_subtitle.js\n// module id = 17\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/save_subtitle.js?");

/***/ }),
/* 18 */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 18\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22fs%22?");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _options = __webpack_require__(0);\n\n/** @description map string language with it's subscene langCode.\n * @param {string} lang - location to save file.\n   @return {boolean}\n */\nfunction getLanguageCode(lang) {\n    var l = lang.toLowerCase().trim();\n    if (_options.languageMap[l] != undefined) {\n        return _options.languageMap[l];\n    } else {\n        return false;\n    }\n}\n\nexports.default = getLanguageCode;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lang.js\n// module id = 19\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/lang.js?");

/***/ }),
/* 20 */
/***/ (function(module, exports) {

eval("module.exports = require(\"events\");\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 20\n// module chunks = 0\n\n//# sourceURL=webpack:///external_%22events%22?");

/***/ })
/******/ ]);